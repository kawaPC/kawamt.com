---
title: ライブラリが生成するQRコードの規格・構成を知る
---

- QRコードはフロントエンドでライブラリを使って生成
- QRコードに搭載するデータは65文字の英数字(UUID * 2の組み合わせ)
- 読み取り端末が対応しているかどうかを確認するため、QRコードの規格について詳しく調べる必要があった

## 使用ライブラリ

[https://github.com/zpao/qrcode.react](https://github.com/zpao/qrcode.react)

※ ライブラリにはどのような規格でQRコードが生成されるか記載されていないので、知識によって判断するしかない

### Demo

[http://zpao.github.io/qrcode.react/](http://zpao.github.io/qrcode.react/)

誤り訂正レベルや載せたいデータ量によってQRコードのセル数が変わるのが分かる

![QRコード生成デモ](https://cdn-ak.f.st-hatena.com/images/fotolife/h/hachipochi/20210717/20210717160521.gif "QRコード生成デモ")

## 生成されたQRコードの規格・構成

- QRコードの種類
  **QRコード**

- モデル
  **モデル2**


- 誤り訂正レベル
  **M**


- バージョン
  **4**


## 各項目の解説

### QRコードの種類

「QRコード」「マイクロQRコード」「iQRコード」「SQRC」「フレームQR」などがある

[https://www.qrcode.com/codes/](https://www.qrcode.com/codes/)

これは見た目通り、**QRコード**を使用していることが分かる

### モデル

QRコードの中でも「モデル1」「モデル2」の2種類が存在する。

[https://www.qrcode.com/codes/model12.html](https://www.qrcode.com/codes/model12.html)

> QRコードのモデル2は、コードが歪んでしまった場合でもスムーズに読取りが出来るように、モデル1を改良したコードです。
> コードが曲面に印字されたり、読み取り時の角度でコードが歪んだ状態でも、コード内部に配置したアライメントパターンによって、性能良く読み取ることができます。
> 最大バージョンは40 (177×177セル)で、数字7089桁まで扱うことができます。


アライメントパターンがあることから**モデル2**を採用していることが分かる

### 誤り訂正レベル

「L」「M」「Q」「H」の4種類。

[https://www.qrcode.com/about/error_correction.html](https://www.qrcode.com/about/error_correction.html)

> QRコードはコードが汚れていたり、破損していても、コード自身でデータを復元する機能を持っています。「誤り訂正能力」は4段階用意されており、ユーザが使用環境に合わせてレベルを選択する事ができます。このレベルを上げれば、誤り訂正能力は向上しますが、データが増えるため、コードのサイズは大きくなります。

> どのレベルを選択するかは、ご使用になる環境、コードサイズ等で総合的に考慮して判断します。工場などの汚れやすい環境ではレベルQやHを選択し、それほど汚れない環境でデータ量が多い場合などは、レベルLを選択する事もあります。一般的にはM(15%)で運用されるケースが多いようです。

これはライブラリのパラメータで選べる項目。
一般的なレベルで構わないので、**誤り訂正レベルM**を採用した

### バージョン

1から40まである。
バージョンによってQRコードのセル数が決まる。

[https://www.qrcode.com/about/version.html](https://www.qrcode.com/about/version.html)

> QRコードの各バージョンは、データ量・文字種、また誤り訂正レベルに対応した最大入力文字数が設定されています。

> 1、入力データの種類を「数字」と設定。
> 2、誤り訂正レベルを「L」「M」「Q」「H」の中から決定。(仮にここでは「M」とします)
> 3、以下の表から、数字が100以上かつ100に近いものと、誤り訂正レベル「M」が交差したところが最適バージョンです。

今回は誤り訂正レベルMで、データは英数字65文字なので
セル数33 x 33の**バージョン4**で出力されているはずということが分かる

![誤り訂正レベル表](https://cdn-ak.f.st-hatena.com/images/fotolife/h/hachipochi/20210717/20210717160615.png)
